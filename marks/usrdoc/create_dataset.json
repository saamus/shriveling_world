{"html":"<h1 id=\"instructions-for-the-creation-of-a-dataset\">Instructions for the creation of a dataset</h1>\n<h2 id=\"data-model\">Data model</h2>\n<p><img src=\"assets/modeles8.svg\" alt=\"data model\" title=\"data model\" /></p>\n<h2 id=\"a-system-of-five-files\">A system of five files</h2>\n<p>According to the data model, <em>Shriveling world</em> datasets are composed of five files:</p>\n<ol>\n<li>cities</li>\n<li>population</li>\n<li>transport network</li>\n<li>transport modes</li>\n<li>transport mode speed</li>\n</ol>\n<p>The files describe a <strong>graph</strong> modelling a transport network between cities with <strong>speed</strong> as a key parameter. The content of the files is <a href=\"#content-of-files-columns\">described below</a>.</p>\n<h2 id=\"a-differential-model\">A differential model</h2>\n<p>The <em>Shriveling world</em> model is by design <strong>differential</strong>, id est, it compares the basic terrestrial road speed with the fastest available transport speed. This comparison of speed computes a ratio that will determine the slope of cones. Addressing the issue of the historical contraction of time-space due to the improvement of transport means, the  <em>Shriveling world</em> model allows for considering different periods in time, years, different moments when the ratio is computed. The ratio is fixed for a given year.</p>\n<h2 id=\"historical-time-span\">Historical time span</h2>\n<p>The dataset will generate a <em>historical time span</em> during which, for each year, a graphical representation may be built. This <em>historical time span</em> considers the dates attached to the modes and network links but also the coexistence of road and other transport modes. This coexistence of transport modes is necessary to generate the cones slope, <a href=\"#a-differential-model\">as seen earlier</a>. Hence the <em>historical time span</em> is based on data provided about the year of opening and sometimes ending (e.g. supersonic aircraft) of the transport services, an on the period where <strong>road speed and another faster transport mode speed</strong> are known.<br />\nThe <em>historical time span</em> needs to fill in the variable <em>yearBegin</em> and the variable <em>yearEnd</em></p>\n<ul>\n<li><em>yearBegin</em> will be the earliest year when the model can be computed</li>\n<li><em>yearEnd</em> will be the latest year when the model can be computed</li>\n</ul>\n<p>There are two sources to determine this <em>historical time span</em>:</p>\n<table>\n<thead>\n<tr>\n<th id=\"source\">Source</th>\n<th id=\"rationale\">Rationale</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em>transport mode speed.csv</em></td>\n<td>to allow for comparing modes in general, e.g. road vs rail in the long term</td>\n</tr>\n<tr>\n<td><em>transport network.csv</em></td>\n<td>to allow for considering the growth of a transport network of a given speed, over time, e.g. the morphogenesis of the high-speed rail network</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"algorithm-for-determining-the-historical-time-span\">Algorithm for determining the historical time span</h2>\n<p>Algorithm for determining the variables <em>yearBegin</em> and  <em>yearEnd</em>:</p>\n<table>\n<thead>\n<tr>\n<th id=\"source_file\">Source file</th>\n<th id=\"starting_year_for_each_mode\">Starting year for each mode</th>\n<th id=\"ending_year_for_each_mode\">Ending year for each mode</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em>transport mode speed.csv</em></td>\n<td><em>yearBeginRoadMode</em> = min(<em>year<sub>road</sub></em>), <em>yearBeginFasterTransp1Mode</em> = min(<em>year<sub>Transp1</sub></em>), <em>yearBeginFasterTransp2Mode</em> = min(<em>year<sub>Transp2</sub></em>), etc.</td>\n<td><em>yearEndRoadMode</em>= max(<em>year<sub>road</sub></em>), <em>yearEndFasterTransp1Mode</em> = max(<em>year<sub>Transp1</sub></em>), <em>yearEndFasterTransp2Mode</em> = max(<em>year<sub>Transp2</sub></em>), etc.</td>\n</tr>\n<tr>\n<td><em>transport network.csv</em></td>\n<td><em>yearBeginRoadNetwork</em> = min(<em>yearBegin<sub>road</sub></em>), <em>yearBeginFasterTransp1Network</em>, <em>yearBeginFasterTransp2Network</em>, etc.</td>\n<td><em>yearEndRoadNetwork</em> = max(<em>yearEnd<sub>road</sub></em>), <em>yearEndFasterTransp1Network</em>, <em>yearEndFasterTransp2Network</em>, etc.</td>\n</tr>\n</tbody>\n</table>\n<p><em>yearBeginRoad</em> = min (<em>yearBeginRoadMode</em>, <em>yearBeginRoadNetwork</em>)<br />\n<em>yearBeginFasterTransp1</em> = min (<em>yearBeginFasterTransp1Mode</em>, <em>yearBeginFasterTransp1Network</em>)<br />\n<em>yearBeginFasterTransp2</em> = min (<em>yearBeginFasterTransp2Mode</em>, <em>yearBeginFasterTransp2Network</em>)<br />\netc.</p>\n<p><em>yearEndRoad</em> = max (<em>yearEndRoadMode</em>, <em>yearEndRoadNetwork</em>)</p>\n<p><em>yearBegin</em> = max((<em>yearBeginRoad</em>), min(<em>yearBeginFasterTransp1</em>, <em>yearBeginFasterTransp2</em>, etc.))<br />\n<em>yearEnd</em> = min((<em>yearEndRoad</em>), max(<em>yearEndFasterTransp1</em>, <em>yearEndFasterTransp2</em>, etc.))</p>\n<p>The transport related period should also be coherent with the dates of the city population data.</p>\n<h2 id=\"mandatory-elements-in-the-dataset\">Mandatory elements in the dataset</h2>\n<p>General <strong>common sense</strong> instructions</p>\n<ul>\n<li>The <a href=\"#a-system-of-five-files\">five files</a> must all be present in the dataset</li>\n<li>As shown in the <a href=\"#data-model\">figure of the data model</a> each file has optional and mandatory columns<ul>\n<li>mandatory columns must be populated completely, with no missing data</li>\n<li>optional columns may be left empty or may be completely or partially populated</li></ul></li>\n<li>Column names in files <strong>MUST</strong> be rigorously respected</li>\n<li>Id fields must be carefully populated because they connect files to each other:<ul>\n<li><em>cityCode</em> from the city file is linked to <em>iOri</em> and <em>iDes</em> in the network file</li>\n<li><em>transportMode</em> code from the transport network file is linked to <em>code</em> in the transport mode code file, and <em>transportModeCode</em> in the transport mode speed file</li></ul></li>\n<li>text type: <em>countryName</em>, <em>urbanAgglomeration</em>, <em>name</em> (of transport mode)</li>\n<li>numeric type: <em>countryCode</em>, <em>cityCode</em>, <em>latitude</em>, <em>longitude</em>, etc</li>\n</ul>\n<p>Specific <strong>critical</strong> instructions:</p>\n<ul>\n<li>The file <a href=\"#transport-mode-file\"><em>transport mode</em></a> <strong>MUST</strong> contain a mode named <em>Road</em> that will define the slope of cones; cones is the geographic surface and the <em>Road</em> speed is attached to this surface</li>\n<li>For the same reason the file <a href=\"#transport-mode-speed-file\"><em>transport mode speed</em></a> <strong>MUST</strong> contain speed information for the mode <em>road</em></li>\n<li>The model being by design <a href=\"#a-differential-model\">differential</a>, at least one other transport mode with a speed <strong>MUST</strong> be described (in both files  <a href=\"#transport-mode-file\"><em>transport mode</em></a> and <a href=\"#transport-mode-speed-file\"><em>transport mode speed</em></a>)</li>\n</ul>\n<h2 id=\"content-of-files-columns\">Content of files columns</h2>\n<ul>\n<li><p>(<strong>to be checked</strong>)The column order in files is not necessarily the same as proposed here.</p></li>\n<li><p>Files are in CSV format produced with default export options from LibreOffice Calc.</p></li>\n<li><p>Column names <strong>MUST</strong> be rigorously respected</p></li>\n</ul>\n<h3 id=\"cities-file\">Cities file</h3>\n<table>\n<thead>\n<tr>\n<th id=\"column_name\">Column name</th>\n<th id=\"type\">Type</th>\n<th id=\"mandatory\">Mandatory</th>\n<th id=\"comments\">Comments</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em>countryCode</em></td>\n<td>number</td>\n<td>yes</td>\n<td>numeric code of country where city belongs</td>\n</tr>\n<tr>\n<td><em>countryName</em></td>\n<td>string</td>\n<td>yes</td>\n<td>country name where city belongs</td>\n</tr>\n<tr>\n<td><em>cityCode</em></td>\n<td>number</td>\n<td>yes</td>\n<td>city unique id</td>\n</tr>\n<tr>\n<td><em>urbanAgglomeration</em></td>\n<td>string</td>\n<td>yes</td>\n<td>agglomeration (city) name</td>\n</tr>\n<tr>\n<td><em>latitude</em></td>\n<td>number</td>\n<td>yes</td>\n<td>numeric with comma, e.g. 35.55597</td>\n</tr>\n<tr>\n<td><em>longitude</em></td>\n<td>number</td>\n<td>yes</td>\n<td>numeric with comma</td>\n</tr>\n<tr>\n<td><em>radius</em></td>\n<td>number</td>\n<td>no</td>\n<td>cone radius for the case of islands located close to a coastal area devoid of cities, to avoid island cone overlapping in the coastal area, e.g. Canary Islands close to Maroc</td>\n</tr>\n<tr>\n<td><em>yearMotorway</em></td>\n<td>number</td>\n<td>no</td>\n<td>in order to affect the slope of this cone (city) from this year, in a variant of the model that changes local cone slope according the connectivity to a faster network (even if not all surrounding space is experiencing this speed of transport)</td>\n</tr>\n<tr>\n<td><em>yearHST</em></td>\n<td>number</td>\n<td>no</td>\n<td>same as previous, but here concerning High Speed Rail</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"population-file\">Population file</h3>\n<table>\n<thead>\n<tr>\n<th id=\"column_name\">Column name</th>\n<th id=\"type\">Type</th>\n<th id=\"mandatory\">Mandatory</th>\n<th id=\"comments\">Comments</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em>cityCode</em></td>\n<td>number</td>\n<td>yes</td>\n<td>id of city</td>\n</tr>\n<tr>\n<td><em>year</em></td>\n<td>number</td>\n<td>yes</td>\n<td>year of census period</td>\n</tr>\n<tr>\n<td><em>population</em></td>\n<td>number</td>\n<td>yes</td>\n<td>in thousands inhabitants, at the agglomeration level recommended, e.g. as in UN World Urban Prospect database</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"transport-network-file\">Transport network file</h3>\n<p>The <em>transport network file</em> describes the edges of the graph between the cities as nodes. See her for <a href=\"https://timespace.hypotheses.org/177\">a justification of the terminology choices</a>.</p>\n<table>\n<thead>\n<tr>\n<th id=\"column_name\">Column name</th>\n<th id=\"type\">Type</th>\n<th id=\"mandatory\">Mandatory</th>\n<th id=\"comments\">Comments</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em>yearBegin</em></td>\n<td>number</td>\n<td>no</td>\n<td>year of opening of the edge, infrastructure or service; if not populated, period <em>historical time span</em> will be determined from <em>transport mode code</em> file data</td>\n</tr>\n<tr>\n<td><em>yearEnd</em></td>\n<td>number</td>\n<td>no</td>\n<td>may be used for a service no longer operated, e.g. supersonic commercial aircraft Concorde</td>\n</tr>\n<tr>\n<td><em>idOri</em></td>\n<td>number</td>\n<td>yes</td>\n<td>id of origin city; direction (ori-des or des-ori) has no meaning in the model</td>\n</tr>\n<tr>\n<td><em>idDes</em></td>\n<td>number</td>\n<td>yes</td>\n<td>id of destination city</td>\n</tr>\n<tr>\n<td><em>transportMode</em></td>\n<td>number</td>\n<td>yes</td>\n<td>id of the transport mode</td>\n</tr>\n</tbody>\n</table>\n<p>For the sake of readability this file usually contains two optional columns of <em>oriName</em> and <em>desName</em>.</p>\n<h3 id=\"transport-mode-file\">Transport mode file</h3>\n<table>\n<thead>\n<tr>\n<th id=\"column_name\">Column name</th>\n<th id=\"type\">Type</th>\n<th id=\"mandatory\">Mandatory</th>\n<th id=\"comments\">Comments</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em>name</em></td>\n<td>string</td>\n<td>yes</td>\n<td>mode name</td>\n</tr>\n<tr>\n<td><em>code</em></td>\n<td>number</td>\n<td>yes</td>\n<td>unique id of the transport mode</td>\n</tr>\n<tr>\n<td><em>yearBegin</em></td>\n<td>number</td>\n<td>yes</td>\n<td>year of opening of the first infrastructure or service of the mode, e.g. High Speed Rail in 1964 between Tokyo and Osaka</td>\n</tr>\n<tr>\n<td><em>yearEnd</em></td>\n<td>number</td>\n<td>no</td>\n<td>may be used for a service no longer operated, e.g. supersonic commercial aircraft Concorde between Paris and New-York started in 1977 and stopped operating in 2004</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"transport-mode-speed-file\">Transport mode speed file</h3>\n<p>A given transport mode may experience an increase of speed, e.g. the five acceleration phases of China classical railways (non High Speed Rail) between 1997 and 2004</p>\n<table>\n<thead>\n<tr>\n<th id=\"column_name\">Column name</th>\n<th id=\"type\">Type</th>\n<th id=\"mandatory\">Mandatory</th>\n<th id=\"comments\">Comments</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td><em>year</em></td>\n<td>number</td>\n<td>yes</td>\n<td>referring to a date when speed changed</td>\n</tr>\n<tr>\n<td><em>transportModeCode</em></td>\n<td>number</td>\n<td>yes</td>\n<td>id of transport mode</td>\n</tr>\n<tr>\n<td><em>speedKPH</em></td>\n<td>number</td>\n<td>yes</td>\n<td>commercial average speed on the transport network</td>\n</tr>\n</tbody>\n</table>"}